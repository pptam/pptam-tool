--
-- Autogenerated by Thrift
--
-- DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
-- @generated
--


local Thrift = require 'Thrift'
local TType = Thrift.TType
local __TObject = Thrift.__TObject
local TException = Thrift.TException

local ErrorCode = {
  SE_THRIFT_CONNPOOL_TIMEOUT = 0,
  SE_THRIFT_CONN_ERROR = 1,
  SE_UNAUTHORIZED = 2,
  SE_MEMCACHED_ERROR = 3,
  SE_MONGODB_ERROR = 4,
  SE_REDIS_ERROR = 5,
  SE_THRIFT_HANDLER_ERROR = 6
}

local User = __TObject:new{
  user_id,
  first_name,
  last_name,
  username,
  password,
  salt
}

function User:read(iprot)
  iprot:readStructBegin()
  while true do
    local fname, ftype, fid = iprot:readFieldBegin()
    if ftype == TType.STOP then
      break
    elseif fid == 1 then
      if ftype == TType.I64 then
        self.user_id = iprot:readI64()
      else
        iprot:skip(ftype)
      end
    elseif fid == 2 then
      if ftype == TType.STRING then
        self.first_name = iprot:readString()
      else
        iprot:skip(ftype)
      end
    elseif fid == 3 then
      if ftype == TType.STRING then
        self.last_name = iprot:readString()
      else
        iprot:skip(ftype)
      end
    elseif fid == 4 then
      if ftype == TType.STRING then
        self.username = iprot:readString()
      else
        iprot:skip(ftype)
      end
    elseif fid == 5 then
      if ftype == TType.STRING then
        self.password = iprot:readString()
      else
        iprot:skip(ftype)
      end
    elseif fid == 6 then
      if ftype == TType.STRING then
        self.salt = iprot:readString()
      else
        iprot:skip(ftype)
      end
    else
      iprot:skip(ftype)
    end
    iprot:readFieldEnd()
  end
  iprot:readStructEnd()
end

function User:write(oprot)
  oprot:writeStructBegin('User')
  if self.user_id ~= nil then
    oprot:writeFieldBegin('user_id', TType.I64, 1)
    oprot:writeI64(self.user_id)
    oprot:writeFieldEnd()
  end
  if self.first_name ~= nil then
    oprot:writeFieldBegin('first_name', TType.STRING, 2)
    oprot:writeString(self.first_name)
    oprot:writeFieldEnd()
  end
  if self.last_name ~= nil then
    oprot:writeFieldBegin('last_name', TType.STRING, 3)
    oprot:writeString(self.last_name)
    oprot:writeFieldEnd()
  end
  if self.username ~= nil then
    oprot:writeFieldBegin('username', TType.STRING, 4)
    oprot:writeString(self.username)
    oprot:writeFieldEnd()
  end
  if self.password ~= nil then
    oprot:writeFieldBegin('password', TType.STRING, 5)
    oprot:writeString(self.password)
    oprot:writeFieldEnd()
  end
  if self.salt ~= nil then
    oprot:writeFieldBegin('salt', TType.STRING, 6)
    oprot:writeString(self.salt)
    oprot:writeFieldEnd()
  end
  oprot:writeFieldStop()
  oprot:writeStructEnd()
end

local Review = __TObject:new{
  review_id,
  user_id,
  req_id,
  text,
  movie_id,
  rating,
  timestamp
}

function Review:read(iprot)
  iprot:readStructBegin()
  while true do
    local fname, ftype, fid = iprot:readFieldBegin()
    if ftype == TType.STOP then
      break
    elseif fid == 1 then
      if ftype == TType.I64 then
        self.review_id = iprot:readI64()
      else
        iprot:skip(ftype)
      end
    elseif fid == 2 then
      if ftype == TType.I64 then
        self.user_id = iprot:readI64()
      else
        iprot:skip(ftype)
      end
    elseif fid == 3 then
      if ftype == TType.I64 then
        self.req_id = iprot:readI64()
      else
        iprot:skip(ftype)
      end
    elseif fid == 4 then
      if ftype == TType.STRING then
        self.text = iprot:readString()
      else
        iprot:skip(ftype)
      end
    elseif fid == 5 then
      if ftype == TType.STRING then
        self.movie_id = iprot:readString()
      else
        iprot:skip(ftype)
      end
    elseif fid == 6 then
      if ftype == TType.I32 then
        self.rating = iprot:readI32()
      else
        iprot:skip(ftype)
      end
    elseif fid == 7 then
      if ftype == TType.I64 then
        self.timestamp = iprot:readI64()
      else
        iprot:skip(ftype)
      end
    else
      iprot:skip(ftype)
    end
    iprot:readFieldEnd()
  end
  iprot:readStructEnd()
end

function Review:write(oprot)
  oprot:writeStructBegin('Review')
  if self.review_id ~= nil then
    oprot:writeFieldBegin('review_id', TType.I64, 1)
    oprot:writeI64(self.review_id)
    oprot:writeFieldEnd()
  end
  if self.user_id ~= nil then
    oprot:writeFieldBegin('user_id', TType.I64, 2)
    oprot:writeI64(self.user_id)
    oprot:writeFieldEnd()
  end
  if self.req_id ~= nil then
    oprot:writeFieldBegin('req_id', TType.I64, 3)
    oprot:writeI64(self.req_id)
    oprot:writeFieldEnd()
  end
  if self.text ~= nil then
    oprot:writeFieldBegin('text', TType.STRING, 4)
    oprot:writeString(self.text)
    oprot:writeFieldEnd()
  end
  if self.movie_id ~= nil then
    oprot:writeFieldBegin('movie_id', TType.STRING, 5)
    oprot:writeString(self.movie_id)
    oprot:writeFieldEnd()
  end
  if self.rating ~= nil then
    oprot:writeFieldBegin('rating', TType.I32, 6)
    oprot:writeI32(self.rating)
    oprot:writeFieldEnd()
  end
  if self.timestamp ~= nil then
    oprot:writeFieldBegin('timestamp', TType.I64, 7)
    oprot:writeI64(self.timestamp)
    oprot:writeFieldEnd()
  end
  oprot:writeFieldStop()
  oprot:writeStructEnd()
end

local CastInfo = __TObject:new{
  cast_info_id,
  name,
  gender,
  intro
}

function CastInfo:read(iprot)
  iprot:readStructBegin()
  while true do
    local fname, ftype, fid = iprot:readFieldBegin()
    if ftype == TType.STOP then
      break
    elseif fid == 1 then
      if ftype == TType.I64 then
        self.cast_info_id = iprot:readI64()
      else
        iprot:skip(ftype)
      end
    elseif fid == 2 then
      if ftype == TType.STRING then
        self.name = iprot:readString()
      else
        iprot:skip(ftype)
      end
    elseif fid == 3 then
      if ftype == TType.BOOL then
        self.gender = iprot:readBool()
      else
        iprot:skip(ftype)
      end
    elseif fid == 4 then
      if ftype == TType.STRING then
        self.intro = iprot:readString()
      else
        iprot:skip(ftype)
      end
    else
      iprot:skip(ftype)
    end
    iprot:readFieldEnd()
  end
  iprot:readStructEnd()
end

function CastInfo:write(oprot)
  oprot:writeStructBegin('CastInfo')
  if self.cast_info_id ~= nil then
    oprot:writeFieldBegin('cast_info_id', TType.I64, 1)
    oprot:writeI64(self.cast_info_id)
    oprot:writeFieldEnd()
  end
  if self.name ~= nil then
    oprot:writeFieldBegin('name', TType.STRING, 2)
    oprot:writeString(self.name)
    oprot:writeFieldEnd()
  end
  if self.gender ~= nil then
    oprot:writeFieldBegin('gender', TType.BOOL, 3)
    oprot:writeBool(self.gender)
    oprot:writeFieldEnd()
  end
  if self.intro ~= nil then
    oprot:writeFieldBegin('intro', TType.STRING, 4)
    oprot:writeString(self.intro)
    oprot:writeFieldEnd()
  end
  oprot:writeFieldStop()
  oprot:writeStructEnd()
end

local Cast = __TObject:new{
  cast_id,
  character,
  cast_info_id
}

function Cast:read(iprot)
  iprot:readStructBegin()
  while true do
    local fname, ftype, fid = iprot:readFieldBegin()
    if ftype == TType.STOP then
      break
    elseif fid == 1 then
      if ftype == TType.I32 then
        self.cast_id = iprot:readI32()
      else
        iprot:skip(ftype)
      end
    elseif fid == 2 then
      if ftype == TType.STRING then
        self.character = iprot:readString()
      else
        iprot:skip(ftype)
      end
    elseif fid == 3 then
      if ftype == TType.I64 then
        self.cast_info_id = iprot:readI64()
      else
        iprot:skip(ftype)
      end
    else
      iprot:skip(ftype)
    end
    iprot:readFieldEnd()
  end
  iprot:readStructEnd()
end

function Cast:write(oprot)
  oprot:writeStructBegin('Cast')
  if self.cast_id ~= nil then
    oprot:writeFieldBegin('cast_id', TType.I32, 1)
    oprot:writeI32(self.cast_id)
    oprot:writeFieldEnd()
  end
  if self.character ~= nil then
    oprot:writeFieldBegin('character', TType.STRING, 2)
    oprot:writeString(self.character)
    oprot:writeFieldEnd()
  end
  if self.cast_info_id ~= nil then
    oprot:writeFieldBegin('cast_info_id', TType.I64, 3)
    oprot:writeI64(self.cast_info_id)
    oprot:writeFieldEnd()
  end
  oprot:writeFieldStop()
  oprot:writeStructEnd()
end

local MovieInfo = __TObject:new{
  movie_id,
  title,
  casts,
  plot_id,
  thumbnail_ids,
  photo_ids,
  video_ids,
  avg_rating,
  num_rating
}

function MovieInfo:read(iprot)
  iprot:readStructBegin()
  while true do
    local fname, ftype, fid = iprot:readFieldBegin()
    if ftype == TType.STOP then
      break
    elseif fid == 1 then
      if ftype == TType.STRING then
        self.movie_id = iprot:readString()
      else
        iprot:skip(ftype)
      end
    elseif fid == 2 then
      if ftype == TType.STRING then
        self.title = iprot:readString()
      else
        iprot:skip(ftype)
      end
    elseif fid == 3 then
      if ftype == TType.LIST then
        self.casts = {}
        local _etype3, _size0 = iprot:readListBegin()
        for _i=1,_size0 do
          local _elem4 = Cast:new{}
          _elem4:read(iprot)
          table.insert(self.casts, _elem4)
        end
        iprot:readListEnd()
      else
        iprot:skip(ftype)
      end
    elseif fid == 4 then
      if ftype == TType.I64 then
        self.plot_id = iprot:readI64()
      else
        iprot:skip(ftype)
      end
    elseif fid == 5 then
      if ftype == TType.LIST then
        self.thumbnail_ids = {}
        local _etype8, _size5 = iprot:readListBegin()
        for _i=1,_size5 do
          local _elem9 = iprot:readString()
          table.insert(self.thumbnail_ids, _elem9)
        end
        iprot:readListEnd()
      else
        iprot:skip(ftype)
      end
    elseif fid == 6 then
      if ftype == TType.LIST then
        self.photo_ids = {}
        local _etype13, _size10 = iprot:readListBegin()
        for _i=1,_size10 do
          local _elem14 = iprot:readString()
          table.insert(self.photo_ids, _elem14)
        end
        iprot:readListEnd()
      else
        iprot:skip(ftype)
      end
    elseif fid == 7 then
      if ftype == TType.LIST then
        self.video_ids = {}
        local _etype18, _size15 = iprot:readListBegin()
        for _i=1,_size15 do
          local _elem19 = iprot:readString()
          table.insert(self.video_ids, _elem19)
        end
        iprot:readListEnd()
      else
        iprot:skip(ftype)
      end
    elseif fid == 8 then
      if ftype == TType.DOUBLE then
        self.avg_rating = iprot:readDouble()
      else
        iprot:skip(ftype)
      end
    elseif fid == 9 then
      if ftype == TType.I32 then
        self.num_rating = iprot:readI32()
      else
        iprot:skip(ftype)
      end
    else
      iprot:skip(ftype)
    end
    iprot:readFieldEnd()
  end
  iprot:readStructEnd()
end

function MovieInfo:write(oprot)
  oprot:writeStructBegin('MovieInfo')
  if self.movie_id ~= nil then
    oprot:writeFieldBegin('movie_id', TType.STRING, 1)
    oprot:writeString(self.movie_id)
    oprot:writeFieldEnd()
  end
  if self.title ~= nil then
    oprot:writeFieldBegin('title', TType.STRING, 2)
    oprot:writeString(self.title)
    oprot:writeFieldEnd()
  end
  if self.casts ~= nil then
    oprot:writeFieldBegin('casts', TType.LIST, 3)
    oprot:writeListBegin(TType.STRUCT, #self.casts)
    for _,iter20 in ipairs(self.casts) do
      iter20:write(oprot)
    end
    oprot:writeListEnd()
    oprot:writeFieldEnd()
  end
  if self.plot_id ~= nil then
    oprot:writeFieldBegin('plot_id', TType.I64, 4)
    oprot:writeI64(self.plot_id)
    oprot:writeFieldEnd()
  end
  if self.thumbnail_ids ~= nil then
    oprot:writeFieldBegin('thumbnail_ids', TType.LIST, 5)
    oprot:writeListBegin(TType.STRING, #self.thumbnail_ids)
    for _,iter21 in ipairs(self.thumbnail_ids) do
      oprot:writeString(iter21)
    end
    oprot:writeListEnd()
    oprot:writeFieldEnd()
  end
  if self.photo_ids ~= nil then
    oprot:writeFieldBegin('photo_ids', TType.LIST, 6)
    oprot:writeListBegin(TType.STRING, #self.photo_ids)
    for _,iter22 in ipairs(self.photo_ids) do
      oprot:writeString(iter22)
    end
    oprot:writeListEnd()
    oprot:writeFieldEnd()
  end
  if self.video_ids ~= nil then
    oprot:writeFieldBegin('video_ids', TType.LIST, 7)
    oprot:writeListBegin(TType.STRING, #self.video_ids)
    for _,iter23 in ipairs(self.video_ids) do
      oprot:writeString(iter23)
    end
    oprot:writeListEnd()
    oprot:writeFieldEnd()
  end
  if self.avg_rating ~= nil then
    oprot:writeFieldBegin('avg_rating', TType.DOUBLE, 8)
    oprot:writeDouble(self.avg_rating)
    oprot:writeFieldEnd()
  end
  if self.num_rating ~= nil then
    oprot:writeFieldBegin('num_rating', TType.I32, 9)
    oprot:writeI32(self.num_rating)
    oprot:writeFieldEnd()
  end
  oprot:writeFieldStop()
  oprot:writeStructEnd()
end

local Page = __TObject:new{
  movie_info,
  reviews,
  cast_infos,
  plot
}

function Page:read(iprot)
  iprot:readStructBegin()
  while true do
    local fname, ftype, fid = iprot:readFieldBegin()
    if ftype == TType.STOP then
      break
    elseif fid == 1 then
      if ftype == TType.STRUCT then
        self.movie_info = MovieInfo:new{}
        self.movie_info:read(iprot)
      else
        iprot:skip(ftype)
      end
    elseif fid == 2 then
      if ftype == TType.LIST then
        self.reviews = {}
        local _etype27, _size24 = iprot:readListBegin()
        for _i=1,_size24 do
          local _elem28 = Review:new{}
          _elem28:read(iprot)
          table.insert(self.reviews, _elem28)
        end
        iprot:readListEnd()
      else
        iprot:skip(ftype)
      end
    elseif fid == 3 then
      if ftype == TType.LIST then
        self.cast_infos = {}
        local _etype32, _size29 = iprot:readListBegin()
        for _i=1,_size29 do
          local _elem33 = CastInfo:new{}
          _elem33:read(iprot)
          table.insert(self.cast_infos, _elem33)
        end
        iprot:readListEnd()
      else
        iprot:skip(ftype)
      end
    elseif fid == 4 then
      if ftype == TType.STRING then
        self.plot = iprot:readString()
      else
        iprot:skip(ftype)
      end
    else
      iprot:skip(ftype)
    end
    iprot:readFieldEnd()
  end
  iprot:readStructEnd()
end

function Page:write(oprot)
  oprot:writeStructBegin('Page')
  if self.movie_info ~= nil then
    oprot:writeFieldBegin('movie_info', TType.STRUCT, 1)
    self.movie_info:write(oprot)
    oprot:writeFieldEnd()
  end
  if self.reviews ~= nil then
    oprot:writeFieldBegin('reviews', TType.LIST, 2)
    oprot:writeListBegin(TType.STRUCT, #self.reviews)
    for _,iter34 in ipairs(self.reviews) do
      iter34:write(oprot)
    end
    oprot:writeListEnd()
    oprot:writeFieldEnd()
  end
  if self.cast_infos ~= nil then
    oprot:writeFieldBegin('cast_infos', TType.LIST, 3)
    oprot:writeListBegin(TType.STRUCT, #self.cast_infos)
    for _,iter35 in ipairs(self.cast_infos) do
      iter35:write(oprot)
    end
    oprot:writeListEnd()
    oprot:writeFieldEnd()
  end
  if self.plot ~= nil then
    oprot:writeFieldBegin('plot', TType.STRING, 4)
    oprot:writeString(self.plot)
    oprot:writeFieldEnd()
  end
  oprot:writeFieldStop()
  oprot:writeStructEnd()
end

local ServiceException = TException:new{
  __type = 'ServiceException',
  errorCode,
  message
}

function ServiceException:read(iprot)
  iprot:readStructBegin()
  while true do
    local fname, ftype, fid = iprot:readFieldBegin()
    if ftype == TType.STOP then
      break
    elseif fid == 1 then
      if ftype == TType.I32 then
        self.errorCode = iprot:readI32()
      else
        iprot:skip(ftype)
      end
    elseif fid == 2 then
      if ftype == TType.STRING then
        self.message = iprot:readString()
      else
        iprot:skip(ftype)
      end
    else
      iprot:skip(ftype)
    end
    iprot:readFieldEnd()
  end
  iprot:readStructEnd()
end

function ServiceException:write(oprot)
  oprot:writeStructBegin('ServiceException')
  if self.errorCode ~= nil then
    oprot:writeFieldBegin('errorCode', TType.I32, 1)
    oprot:writeI32(self.errorCode)
    oprot:writeFieldEnd()
  end
  if self.message ~= nil then
    oprot:writeFieldBegin('message', TType.STRING, 2)
    oprot:writeString(self.message)
    oprot:writeFieldEnd()
  end
  oprot:writeFieldStop()
  oprot:writeStructEnd()
end

return {ErrorCode, User=User, Review=Review, CastInfo=CastInfo, Cast=Cast,
        MovieInfo=MovieInfo, Page=Page, ServiceException=ServiceException}