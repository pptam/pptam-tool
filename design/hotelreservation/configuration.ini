[DEFAULT]
; DOMAIN ADAPTATION
; - ENABLED_PLUGINS: indicate the plugins to use, separated by a space, in the execution order.
ENABLED_PLUGINS=deploy_docker_using_ssh test_deployment measure_resources load_test
; ENABLED_PLUGINS=deploy_ssh test_deployment measure_cadvisor load_test_locust

; EXPERIMENT CONFIGURATION
; - PROJECT_NAME: Name of the current project
; - TEST_SET_NAME: (Useful to group tests into test sets) Name of the test set
; - TEST_CASE_PREFIX: Prefix to add to every test; useful to distinguish test sets
; - ENABLED: Set to 0 to disable this test
; - ENABLE_PHASE_SETUP: Enable phase "setup"
; - ENABLE_PHASE_DEPLOY: Enable phase "deploy"
; - ENABLE_PHASE_BEFORE: Enable phase "before"
; - ENABLE_PHASE_RUN: Enable phase "run"
; - ENABLE_PHASE_AFTER : Enable phase "after"
; - ENABLE_PHASE_UNDEPLOY: Enable phase "undeploy"
; - ENABLE_PHASE_TEARDOWN: Enable phase "teardown"
; - SECONDS_TO_WAIT_BEFORE_SETUP: Seconds to wait before starting the phase "setup"
; - SECONDS_TO_WAIT_BEFORE_DEPLOY: Seconds to wait before starting the phase "deploy"
; - SECONDS_TO_WAIT_BEFORE_BEFORE: Seconds to wait before starting the phase "before"
; - SECONDS_TO_WAIT_BEFORE_RUN: Seconds to wait before starting the phase "run"
; - SECONDS_TO_WAIT_BEFORE_AFTER : Seconds to wait before starting the phase "after"
; - SECONDS_TO_WAIT_BEFORE_UNDEPLOY: Seconds to wait before starting the phase "undeploy"
; - SECONDS_TO_WAIT_BEFORE_TEARDOWN: Seconds to wait before starting the phase "teardown"
PROJECT_NAME=DeathStarBench Hotel Reservation 
TEST_SET_NAME=default
TEST_CASE_PREFIX=hotel
ENABLED=1
ENABLE_PHASE_SETUP=1
ENABLE_PHASE_DEPLOY=1
ENABLE_PHASE_BEFORE=1
ENABLE_PHASE_RUN=1
ENABLE_PHASE_AFTER=1 
ENABLE_PHASE_UNDEPLOY=1
ENABLE_PHASE_TEARDOWN=1
SECONDS_TO_WAIT_BEFORE_SETUP=0
SECONDS_TO_WAIT_BEFORE_DEPLOY=0
SECONDS_TO_WAIT_BEFORE_BEFORE=0
SECONDS_TO_WAIT_BEFORE_RUN=0
SECONDS_TO_WAIT_BEFORE_AFTER=10
SECONDS_TO_WAIT_BEFORE_UNDEPLOY=0
SECONDS_TO_WAIT_BEFORE_TEARDOWN=0

; ATTACK CONFIGURATION
; - ATTACK_NAME: module name in `toolchain/attacks/` to execute (without .py). Leave empty to disable.
; - ATTACK_LENGTH_RATIO: optional fraction [0.0-1.0] of total RUN_TIME_IN_SECONDS used as attack duration.
;                        If not set or invalid, a random value in [0,1) is chosen.
; - ATTACK_START_TIME_TYPE: 'random' or 'none'.
;     * random: starts at a random time within [0, RUN - duration].
;     * none: starts exactly at RUN * ATTACK_LENGTH_RATIO (clamped so attack finishes before test end).
ATTACK_NAME=
ATTACK_LENGTH_RATIO=
ATTACK_START_TIME_TYPE=random

; ATTACK MODULE SETTINGS
; Common knobs (apply to most HTTP-based attacks)
; - ATTACK_CONCURRENCY: number of parallel workers/connections (integer). Higher values increase pressure.
; - ATTACK_REQUEST_TIMEOUT_SECONDS: per-request timeout; keep reasonably low to avoid thread buildup.
ATTACK_CONCURRENCY=20
ATTACK_REQUEST_TIMEOUT_SECONDS=10

; Credential-Abuse Flood (Read-Heavy)
; - ATTACK_LOGIN_PATH: login endpoint path.
; - ATTACK_CREDENTIALS: space-separated list of user:pass pairs used in a loop.
;   Example: "user1@example.com:pass1 user2@example.com:pass2"
ATTACK_LOGIN_PATH=/login
ATTACK_CREDENTIALS=

; Reservation Churn (DB-Lock DoS)
; - ATTACK_RESERVE_PATH: reservation creation endpoint.
; - ATTACK_CANCEL_PATH: reservation cancellation endpoint.
; - ATTACK_HOTEL_ID: single hotel identifier repeatedly booked/cancelled.
ATTACK_RESERVE_PATH=/api/v1/reservation
ATTACK_CANCEL_PATH=/api/v1/reservation/cancel
ATTACK_HOTEL_ID=attack-hotel

; Large Review POST (Big-Body DoS)
; - ATTACK_REVIEW_PATH: reviews submission endpoint.
; - ATTACK_LARGE_BODY_SIZE_BYTES: payload size in bytes (upper bound enforced by attack code).
ATTACK_REVIEW_PATH=/api/v1/review
ATTACK_LARGE_BODY_SIZE_BYTES=2097152

; Slowloris Attack (Connection Exhaustion)
; - ATTACK_SLOWLORIS_PATH: request path for initial line.
; - ATTACK_SLOWLORIS_CONNECTIONS: target number of half-open connections (HTTP only).
; - ATTACK_SLOWLORIS_SEND_INTERVAL_SECONDS: seconds between partial header sends.
; - ATTACK_SLOWLORIS_CONNECT_TIMEOUT_SECONDS: socket connect timeout.
ATTACK_SLOWLORIS_PATH=/
ATTACK_SLOWLORIS_CONNECTIONS=200
ATTACK_SLOWLORIS_SEND_INTERVAL_SECONDS=10
ATTACK_SLOWLORIS_CONNECT_TIMEOUT_SECONDS=3

; Slow Reader Attack (Response Draining)
; - ATTACK_SLOW_READER_PATH: endpoint that returns large responses.
; - ATTACK_SLOW_READER_CHUNK_SIZE: stream chunk size in bytes.
; - ATTACK_SLOW_READER_PAUSE_SECONDS: sleep between chunks.
ATTACK_SLOW_READER_PATH=/api/v1/search?pagesize=1000
ATTACK_SLOW_READER_CHUNK_SIZE=32
ATTACK_SLOW_READER_PAUSE_SECONDS=0.1

; Expensive Filter Queries (CPU DoS)
; - ATTACK_SEARCH_PATH: search endpoint that supports filters/sorts.
; - ATTACK_SEARCH_PAGE_SIZE: requested page size to amplify payload/computation.
ATTACK_SEARCH_PATH=/api/v1/search
ATTACK_SEARCH_PAGE_SIZE=500

; LOAD TESTING USING LOCUST
; - LOCUST_HOST_URL: the url that locus uses to conduct performance tests.
; - LOAD: Load to generate for a test. 
; - SPAWN_RATE_PER_SECOND: Speed at which new users are launched.
; - RUN_TIME_IN_SECONDS: Duration of the overall test.
LOCUST_HOST_URL=http://192.168.137.152:5000
LOAD=1
SPAWN_RATE_PER_SECOND=1000
RUN_TIME_IN_SECONDS=600

; DEPLOYMENT USING DOCKER
; - DOCKER_NODE_NAME: the node on which the system under test (SUT) must be deployed.ER_NODE_NAME
; - DOCKER_WAITING_FOR_DEPLOYMENT_IN_SECONDS: seconds to wait till a system is deployed.
; - DOCKER_WAITING_FOR_UNDEPLOYMENT_IN_SECONDS: seconds to wait till a system is undeployed.
DOCKER_DEPLOY=1
DOCKER_UNDEPLOY=1
DOCKER_NODE_NAME=
DOCKER_WAITING_FOR_DEPLOYMENT_IN_SECONDS=10
DOCKER_WAITING_FOR_UNDEPLOYMENT_IN_SECONDS=5
DOCKER_DEPLOY_SSH_TARGET_MACHINE=cslab@192.168.137.152
DOCKER_DEPLOY_SSH_TARGET_FOLDER=/home/cslab/test_pptam

; CADVISOR
; - CADVISOR_HOSTNAME: host to contact to obtain docker stats.
; - CADVISOR_CONTAINERS: either choose 'all' or indicate the containers, separated by a space.
; - CADVISOR_RUN_EVERY_NUMBER_OF_SECONDS: every how many seconds should docker stats be collected
CADVISOR_HOSTNAME=192.168.137.152
CADVISOR_CONTAINERS=all
CADVISOR_RUN_EVERY_NUMBER_OF_SECONDS=15

; TEST DEPLOYMENT
; - TEST_IF_PRESENT: either choose 'all' or indicate the services, separated by a space.
TEST_IF_IMAGE_IS_PRESENT=frontend

; JAEGER
; - JAEGER_API_URL: host to contact to access the Jaeger API.
; - JAEGER_SERVICES: either choose 'all' or indicate the services, separated by a space.
JAEGER_API_URL=http://localhost:16686/api
JAEGER_SERVICES=

; INCLUDE FILES TO DEPLOY
; - FILES_TO_INCLUDE: the list of files, separated by space, to include in the output folder
FILES_TO_INCLUDE=
